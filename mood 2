local player = game:GetService("Players").LocalPlayer
local mouse = player:GetMouse()
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local cg = game:GetService("CoreGui")

-- [ 1. المواقع المحددة للفتحات ] --
local safePoints = {
    Vector3.new(0, 5, 0), -- النقطة الأولى
    Vector3.new(50, 10, 50), -- النقطة الثانية
    Vector3.new(100, 15, 100) -- النقطة الثالثة
}
local currentIndex = 0 -- الموضع الحالي

-- [ 2. بناء واجهة الـ GUI ] --
local screenGui = Instance.new("ScreenGui", cg)
local frame = Instance.new("Frame", screenGui)
local forwardButton = Instance.new("TextButton", frame)
local backButton = Instance.new("TextButton", frame)
local removeButton = Instance.new("TextButton", frame)

-- تصميم واجهة الإطار (Frame)
frame.Size = UDim2.new(0, 300, 0, 200)
frame.Position = UDim2.new(0.5, -150, 0.8, -100)
frame.BackgroundColor3 = Color3.new(0, 0, 0)
frame.BackgroundTransparency = 0.2

-- تصميم زر "أمام"
forwardButton.Size = UDim2.new(0, 140, 0, 50)
forwardButton.Position = UDim2.new(0, 10, 0, 30)
forwardButton.Text = "أمام"
forwardButton.BackgroundColor3 = Color3.new(0, 1, 0)

-- تصميم زر "خلف"
backButton.Size = UDim2.new(0, 140, 0, 50)
backButton.Position = UDim2.new(0, 150, 0, 30)
backButton.Text = "خلف"
backButton.BackgroundColor3 = Color3.new(1, 0, 0)

-- تصميم زر "حذف الشيء"
removeButton.Size = UDim2.new(0, 280, 0, 50)
removeButton.Position = UDim2.new(0, 10, 0, 100)
removeButton.Text = "حذف الشيء"
removeButton.BackgroundColor3 = Color3.new(1, 1, 0)

-- [ 3. وظائف الأزرار ] --

-- النقل إلى موقع محدد
local function moveTo(positionIndex)
    if humanoid and positionIndex > 0 and positionIndex <= #safePoints then
        humanoid:MoveTo(safePoints[positionIndex])
    end
end

-- زر "أمام"
forwardButton.MouseButton1Click:Connect(function()
    if currentIndex < #safePoints then
        currentIndex = currentIndex + 1
        moveTo(currentIndex)
    end
end)

-- زر "خلف"
backButton.MouseButton1Click:Connect(function()
    if currentIndex > 1 then
        currentIndex = currentIndex - 1
        moveTo(currentIndex)
    end
end)

-- زر حذف العناصر
removeButton.MouseButton1Click:Connect(function()
    mouse.Button1Down:Connect(function()
        local target = mouse.Target
        if target then
            target:Destroy() -- حذف العنصر
        end
    end)
end)